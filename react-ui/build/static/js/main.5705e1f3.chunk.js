(this.webpackJsonpleaderboard=this.webpackJsonpleaderboard||[]).push([[0],{167:function(e,t,r){},168:function(e,t,r){},170:function(e,t,r){},171:function(e,t,r){},174:function(e,t,r){},175:function(e,t,r){"use strict";r.r(t);var n,a=r(0),c=r.n(a),s=r(21),o=r.n(s),i=r(23),l=r(20),d=r(7),u=r(5);!function(e){e.PLAYER_ENTITY="PLAYERS",e.MATCHES_ENTITY="MATCHES",e.SERVER_HOST_URL="http://localhost:3001"}(n||(n={}));var j=n,b=r(14),p=function(){return Object(i.b)()},h=i.c,O=r(11),m=r.n(O),f=r(8),x=r(19),y=r(15),g=j.SERVER_HOST_URL,F=Object(y.b)("form/addPlayer",function(){var e=Object(x.a)(m.a.mark((function e(t,r){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(g,"/graphql"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:'\n    mutation {\n        addPlayer(name: "'.concat(t,'") {\n            name\n            id\n        }\n}')})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",Object(f.a)({},a));case 11:return e.abrupt("return",r.rejectWithValue(a));case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.error("Error: ",e.t0),e.abrupt("return",r.rejectWithValue(e.t0.response.data));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}()),v=Object(y.b)("form/addMatch",function(){var e=Object(x.a)(m.a.mark((function e(t,r){var n,a,c,s,o,i,l,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.playerId,a=t.opponentId,c=t.finalPlayerScore,s=t.finalOpponentScore,o=t.matchTime,i=t.location,n!==a){e.next=3;break}return e.abrupt("return",r.rejectWithValue({data:"player and opponent can not be the same."}));case 3:if(c!==s){e.next=5;break}return e.abrupt("return",r.rejectWithValue({data:"there can be no ties.  player and opponent scores can not be the same."}));case 5:return e.prev=5,e.next=8,fetch("".concat(g,"/graphql"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:"\n    mutation {\n        addMatch(player_id: ".concat(n,", opponent_id: ").concat(a,", finalPlayerScore: ").concat(c,", finalOpponentScore: ").concat(s,', matchTime:"').concat(o,'", location:"').concat(i,'") {\n            id\n        }\n}')})});case 8:return l=e.sent,e.next=11,l.json();case 11:if(d=e.sent,200!==l.status){e.next=16;break}return e.abrupt("return",Object(f.a)({},d));case 16:return e.abrupt("return",r.rejectWithValue(d));case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(5),console.error("Error: ",e.t0),e.abrupt("return",r.rejectWithValue(e.t0.response.data));case 23:case"end":return e.stop()}}),e,null,[[5,19]])})));return function(t,r){return e.apply(this,arguments)}}()),S=Object(y.b)("form/fetchPlayerIds",function(){var e=Object(x.a)(m.a.mark((function e(t,r){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(g,"/graphql"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:"\n    {\n        players {\n            name\n            id\n        }\n}"})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",Object(f.a)({},a));case 11:return e.abrupt("return",r.rejectWithValue(a));case 12:e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(0),console.error("Error: ",e.t0),!e.t0||!e.t0.response){e.next=19;break}return e.abrupt("return",r.rejectWithValue(e.t0.response.data));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}()),T=Object(y.c)({name:"form",initialState:{errorMessage:"",isFetching:!1,isSuccess:!1,submitSuccess:!1,isError:!1,playerIds:[]},reducers:{clearState:function(e){return e.isFetching=!1,e.isSuccess=!1,e.isError=!1,e.submitSuccess=!1,e}},extraReducers:function(e){e.addCase(F.fulfilled,(function(e,t){t.payload;e.isFetching=!1,e.isSuccess=!0,e.submitSuccess=!0})).addCase(F.pending,(function(e,t){t.payload;e.isFetching=!0})).addCase(F.rejected,(function(e,t){var r=t.payload;e.isFetching=!1,e.isError=!0,e.errorMessage=r.data})).addCase(v.fulfilled,(function(e,t){t.payload;e.isFetching=!1,e.isSuccess=!0,e.submitSuccess=!0})).addCase(v.pending,(function(e,t){t.payload;e.isFetching=!0})).addCase(v.rejected,(function(e,t){var r=t.payload;e.isFetching=!1,e.isError=!0,e.errorMessage=r.data})).addCase(S.pending,(function(e,t){t.payload;e.isFetching=!0})).addCase(S.fulfilled,(function(e,t){var r=t.payload;e.playerIds=r.data.players,e.isFetching=!1,e.isSuccess=!0}))}}),C=T.actions.clearState,E=(T.reducer,r(1));var P=function(){var e=p();Object(a.useEffect)((function(){e(C())}),[e]);var t=Object(a.useState)(""),r=Object(b.a)(t,2),n=r[0],c=r[1],s=h((function(e){return e.form})),o=s.errorMessage,i=s.isError,l=s.isFetching,d=s.submitSuccess;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(u.Form.Field,{children:[Object(E.jsx)(u.Form.Label,{children:"Player Name"}),Object(E.jsx)(u.Form.Control,{children:Object(E.jsx)(u.Form.Input,{color:"success",value:n,onChange:function(e){return c(e.target.value)},required:!0})})]}),Object(E.jsxs)(u.Form.Field,{kind:"group",children:[Object(E.jsx)(u.Form.Control,{children:Object(E.jsx)(u.Button,{onClick:function(){""!==n&&(e(F(n)),e(C()),c(""))},color:"link",disabled:l||""===n,children:"Submit"})}),l&&Object(E.jsx)(u.Form.Control,{loading:!0,children:"Posting your data..."}),i&&Object(E.jsx)(u.Form.Control,{children:Object(E.jsxs)("span",{className:"error-message",children:["Error: ",o]})}),d&&Object(E.jsx)(u.Form.Control,{children:Object(E.jsx)("span",{className:"success-message",children:"Your data has been posted successfully!"})})]})]})};var k=function(){var e=p();Object(a.useEffect)((function(){e(C()),e(S())}),[e]);var t=Object(a.useState)(""),r=Object(b.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(1),o=Object(b.a)(s,2),i=o[0],l=o[1],d=Object(a.useState)(2),j=Object(b.a)(d,2),O=j[0],m=j[1],f=Object(a.useState)(""),x=Object(b.a)(f,2),y=x[0],g=x[1],F=Object(a.useState)(0),T=Object(b.a)(F,2),P=T[0],k=T[1],N=Object(a.useState)(0),I=Object(b.a)(N,2),H=I[0],w=I[1],L=h((function(e){return e.form})),M=L.errorMessage,_=L.isError,R=L.isFetching,A=L.playerIds,q=L.submitSuccess;return Object(a.useEffect)((function(){q&&(c(""),l(1),m(2),g(""),k(0),w(0))}),[q]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(u.Form.Field,{children:[Object(E.jsx)(u.Form.Label,{children:"Match Location"}),Object(E.jsx)(u.Form.Control,{children:Object(E.jsx)(u.Form.Input,{value:n,onChange:function(e){return c(e.target.value)},required:!0})})]}),Object(E.jsxs)(u.Form.Field,{children:[Object(E.jsx)(u.Form.Label,{children:"Match Date"}),Object(E.jsx)(u.Form.Control,{children:Object(E.jsx)(u.Form.Input,{type:"date",value:y,onChange:function(e){return g(e.target.value)},required:!0})})]}),Object(E.jsxs)(u.Form.Field,{children:[Object(E.jsx)(u.Form.Label,{children:"Player Id"}),Object(E.jsx)(u.Form.Control,{children:Object(E.jsx)(u.Form.Select,{value:i,onChange:function(e){return l(Number(e.target.value))},required:!0,children:0===A.length&&R?"searching":A.map((function(e){var t=e.name,r=e.id;return Number(r)===i?Object(E.jsx)("option",{value:r,selected:!0,children:t},"".concat(t,"-").concat(r)):Object(E.jsx)("option",{value:r,children:t},"".concat(t,"-").concat(r))}))})})]}),Object(E.jsxs)(u.Form.Field,{children:[Object(E.jsx)(u.Form.Label,{children:"Opponent Id"}),Object(E.jsx)(u.Form.Control,{children:Object(E.jsx)(u.Form.Select,{value:O,onChange:function(e){return m(Number(e.target.value))},required:!0,children:0===A.length&&R?"searching":A.map((function(e){var t=e.name,r=e.id;return Number(r)===O?Object(E.jsx)("option",{value:r,selected:!0,children:t},"".concat(t,"-").concat(r)):Object(E.jsx)("option",{value:r,children:t},"".concat(t,"-").concat(r))}))})})]}),Object(E.jsxs)(u.Form.Field,{children:[Object(E.jsx)(u.Form.Label,{children:"Final Player Score"}),Object(E.jsx)(u.Form.Control,{children:Object(E.jsx)(u.Form.Input,{onChange:function(e){return k(Number(e.target.value))},type:"number",value:P,required:!0})})]}),Object(E.jsxs)(u.Form.Field,{children:[Object(E.jsx)(u.Form.Label,{children:"Final Opponent Score"}),Object(E.jsx)(u.Form.Control,{children:Object(E.jsx)(u.Form.Input,{onChange:function(e){return w(Number(e.target.value))},type:"number",value:H,required:!0})})]}),Object(E.jsx)(u.Form.Field,{kind:"group",children:Object(E.jsx)(u.Form.Control,{children:Object(E.jsx)(u.Button,{onClick:function(t){return function(t){t.preventDefault(),e(C()),e(v({playerId:i,finalPlayerScore:P,finalOpponentScore:H,location:n,opponentId:O,matchTime:y}))}(t)},color:"link",disabled:R,children:"Submit"})})}),Object(E.jsxs)(u.Form.Field,{kind:"group",children:[R&&Object(E.jsx)(u.Form.Control,{loading:!0,children:"Posting your data..."}),_&&Object(E.jsx)(u.Form.Control,{children:Object(E.jsxs)("span",{className:"error-message",children:["Error: ",M]})}),q&&Object(E.jsx)(u.Form.Control,{children:Object(E.jsx)("span",{className:"success-message",children:"Your data has been posted successfully!"})})]})]})};r(167);var N=function(){var e=Object(a.useState)("add-player"),t=Object(b.a)(e,2),r=t[0],n=t[1];return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(u.Container,{className:"form-container",children:Object(E.jsx)(u.Box,{children:Object(E.jsxs)("form",{children:[Object(E.jsxs)(u.Form.Field,{children:[Object(E.jsx)(u.Form.Label,{children:"Form Type"}),Object(E.jsx)(u.Form.Control,{children:Object(E.jsxs)(u.Form.Select,{value:r,onChange:function(e){return n(e.target.value)},children:[Object(E.jsx)("option",{value:"add-player",children:"Add Player"}),Object(E.jsx)("option",{value:"add-match",children:"Add Match"})]})})]}),"add-player"===r?Object(E.jsx)(P,{}):Object(E.jsx)(k,{})]})})})})};var I=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{"data-testid":"HomePage",children:"Home page placeholder.  Click on a nav link and navigate around!"})})},H=[{Header:"Match Date",accessor:"matchTime",sortType:"basic"},{Header:"Location",accessor:"location",sortType:"basic"},{Header:"Player Id",accessor:"player_id",sortType:"basic"},{Header:"Player Score",accessor:"finalPlayerScore",sortType:"basic"},{Header:"Opponent Id",accessor:"opponent_id",sortType:"basic"},{Header:"Opponent Score",accessor:"finalOpponentScore",sortType:"basic"}],w=[{Header:"Player Id",accessor:"id",sortType:"basic"},{Header:"Player Name",accessor:"name",sortType:"basic"},{Header:"Wins",accessor:"wins",sortType:"basic"},{Header:"Losses",accessor:"losses",sortType:"basic"},{Header:"Total Matches Played",accessor:"gamesPlayed",sortType:"basic"},{Header:"Rating",accessor:"rating",sortType:"basic"}],L=j.SERVER_HOST_URL,M=Object(y.b)("table/fetchPlayers",function(){var e=Object(x.a)(m.a.mark((function e(t,r){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/graphql"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:"\n    {\n        players {\n            name\n            wins\n            losses\n            gamesPlayed\n            rating\n            id\n        }\n}"})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",Object(f.a)({},a));case 11:return e.abrupt("return",r.rejectWithValue(a));case 12:e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(0),console.error("Error: ",e.t0),!e.t0||!e.t0.response){e.next=19;break}return e.abrupt("return",r.rejectWithValue(e.t0.response.data));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}()),_=Object(y.b)("table/fetchMatches",function(){var e=Object(x.a)(m.a.mark((function e(t,r){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L,"/graphql"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:"\n    {\n        matches {\n            matchTime\n            location\n            opponent_id\n            player_id\n            finalPlayerScore\n            finalOpponentScore\n        }\n}"})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",Object(f.a)({},a));case 11:return e.abrupt("return",r.rejectWithValue(a));case 12:e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(0),console.error("Error: ",e.t0),!e.t0||!e.t0.response){e.next=19;break}return e.abrupt("return",r.rejectWithValue(e.t0.response.data));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}()),R=Object(y.c)({name:"table",initialState:{columns:[],currentTable:"",data:{},errorMessage:"",isFetching:!1,isSuccess:!1,isError:!1},reducers:{clearState:function(e){return e.isFetching=!1,e.isSuccess=!1,e.isError=!1,e.data={},e.columns=[],e}},extraReducers:function(e){e.addCase(M.fulfilled,(function(e,t){var r=t.payload;e.columns=w,e.data=r.data.players,e.isFetching=!1,e.isSuccess=!0,e.currentTable=j.PLAYER_ENTITY})).addCase(M.pending,(function(e,t){t.payload;e.isFetching=!0})).addCase(_.fulfilled,(function(e,t){var r=t.payload;e.columns=H,e.data=r.data.matches,e.isFetching=!1,e.isSuccess=!0,e.currentTable=j.MATCHES_ENTITY})).addCase(_.pending,(function(e,t){t.payload;e.isFetching=!0}))}}),A=R.actions.clearState,q=(r(36),r(168),r(29));r(170);var V=function(e){var t=e.columns,r=e.data,n=Object(q.useTable)({columns:t,data:r},q.useSortBy),a=n.getTableProps,c=n.getTableBodyProps,s=n.headerGroups,o=n.rows,i=n.prepareRow;return Object(E.jsxs)("table",Object(f.a)(Object(f.a)({},a()),{},{role:"table",style:{border:"solid 1px blue"},"data-testid":"leaderboard",children:[Object(E.jsx)("thead",{children:s.map((function(e){return Object(E.jsx)("tr",Object(f.a)(Object(f.a)({},e.getHeaderGroupProps()),{},{"data-testid":"header-row",children:e.headers.map((function(e){return Object(E.jsxs)("th",Object(f.a)(Object(f.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{style:{borderBottom:"solid 3px red",background:"aliceblue",color:"black",fontWeight:"bold"},children:[e.render("Header"),Object(E.jsx)("div",{className:"pointer-block",children:Object(E.jsx)("span",{children:e.isSorted?e.isSortedDesc?"\u2191":"\u2193":""})})]}))}))}))}))}),Object(E.jsx)("tbody",Object(f.a)(Object(f.a)({},c()),{},{children:o.map((function(e){return i(e),Object(E.jsx)("tr",Object(f.a)(Object(f.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(E.jsx)("td",Object(f.a)(Object(f.a)({},e.getCellProps()),{},{style:{padding:"10px",border:"solid 1px gray",background:"papayawhip"},children:e.render("Cell")}))}))}))}))}))]}))};var Y=function(e){var t=p(),r=h((function(e){return e.table})),n=r.data,c=r.columns,s=(r.currentTable,r.isFetching),o=e.entity;return Object(a.useEffect)((function(){switch(t(A()),o){case j.PLAYER_ENTITY:t(M());break;case j.MATCHES_ENTITY:t(_())}}),[o]),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(u.Container,{breakpoint:"widescreen",className:"app-container",children:Object(E.jsxs)(u.Box,{className:"leaderboard-box",children:[Object(E.jsx)(u.Block,{children:Object(E.jsx)("div",{className:"leaderboard-title",children:"Leaderboard"})}),s?"Fetching...":Object(E.jsx)(V,{columns:c,data:n})]})})})};r(171);var W=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(l.a,{children:Object(E.jsxs)("div",{children:[Object(E.jsx)("nav",{children:Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:Object(E.jsx)(l.b,{to:"/",children:"Home"})}),Object(E.jsx)("li",{children:Object(E.jsx)(l.b,{to:"/players",children:"Players"})}),Object(E.jsx)("li",{children:Object(E.jsx)(l.b,{to:"/matches",children:"Matches"})}),Object(E.jsx)("li",{children:Object(E.jsx)(l.b,{to:"/add-form",children:"Add Form"})})]})}),Object(E.jsx)(u.Container,{breakpoint:"widescreen",className:"app-container",children:Object(E.jsxs)(d.c,{children:[Object(E.jsx)(d.a,{exact:!0,path:"/",children:Object(E.jsx)(I,{})}),Object(E.jsx)(d.a,{path:"/add-form",children:Object(E.jsx)(N,{})}),Object(E.jsx)(d.a,{path:"/matches",children:Object(E.jsx)(Y,{entity:j.MATCHES_ENTITY})}),Object(E.jsx)(d.a,{path:"/players",children:Object(E.jsx)(Y,{entity:j.PLAYER_ENTITY})})]})})]})})})},B=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,176)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},J=r(17),D=Object(J.b)({form:T.reducer,table:R.reducer}),U=Object(y.a)({reducer:D});r(174);o.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(i.a,{store:U,children:Object(E.jsx)(W,{})})}),document.getElementById("root")),B()},36:function(e,t,r){}},[[175,1,2]]]);
//# sourceMappingURL=main.5705e1f3.chunk.js.map